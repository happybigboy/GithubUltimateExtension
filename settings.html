<!DOCTYPE html>
<html class="dark:bg-gray-800">
<head>
    <title>Settings</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@latest/dist/tailwind.min.css" rel="stylesheet">
    <script type="module" src="./settings.js"></script>
    <style>
        /* Base transitions */
        * {
            transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
        }

        /* Light mode defaults */
        :root {
            color-scheme: light dark;
            --bg-primary: #ffffff;
            --bg-secondary: #f3f4f6;
            --text-primary: #111827;
            --text-secondary: #4b5563;
            --border-color: #e5e7eb;
            --bg-secondary-rgb: 243, 244, 246;
        }

        /* Dark mode colors */
        .dark {
            --bg-primary: #1f2937;
            --bg-secondary: #111827;
            --text-primary: #f3f4f6;
            --text-secondary: #d1d5db;
            --border-color: #374151;
            --bg-secondary-rgb: 17, 24, 39;
        }

        /* Apply variables */
        body {
            background-color: var(--bg-secondary);
            color: var(--text-primary);
        }

        .dark .dark\:bg-gray-700 {
            background-color: var(--bg-primary);
        }

        .dark .dark\:bg-gray-800 {
            background-color: var(--bg-secondary);
        }

        .dark .dark\:text-gray-200 {
            color: var(--text-primary);
        }

        /* Table styles */
        .dark table {
            border-color: var(--border-color);
        }

        .dark th {
            background-color: var(--bg-primary);
            color: var (--text-primary);
        }

        .dark td {
            border-color: var(--border-color);
        }

        /* Input styles */
        .dark input, .dark select {
            background-color: var(--bg-primary);
            color: var(--text-primary);
            border-color: var(--border-color);
        }

        /* Button styles */
        .dark button:not(.bg-blue-500) {
            background-color: var(--bg-primary);
            color: var(--text-primary);
            border-color: var(--border-color);
        }

        /* Card styles */
        .dark .bg-white {
            background-color: var(--bg-primary);
            border-color: var(--border-color);
        }

        /* Hover states */
        .dark tr:hover {
            background-color: var(--bg-secondary);
        }

        .dark button:hover:not(.bg-blue-500) {
            background-color: var(--bg-secondary);
        }
        
        /* Custom scrollbar for dark mode */
        .dark ::-webkit-scrollbar {
            width: 10px;
            height: 10px;
        }

        .dark ::-webkit-scrollbar-track {
            background: var(--bg-secondary);
        }

        .dark ::-webkit-scrollbar-thumb {
            background: var(--border-color);
            border-radius: 5px;
        }

        .dark ::-webkit-scrollbar-thumb:hover {
            background: var(--text-secondary);
        }

        /* Sticky header styles */
        .sticky-header {
            position: sticky;
            top: 0;
            z-index: 40;
            backdrop-filter: blur(8px);
            padding: 1rem;
            margin: -1rem;
            background-color: rgba(var(--bg-secondary-rgb), 0.95);
            border-bottom: 1px solid var(--border-color);
        }

        /* Accordion styles */
        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
        }

        .accordion-content.open {
            max-height: 2000px; /* Large enough to show content */
        }

        .accordion-header {
            cursor: pointer;
            user-select: none;
        }

        .accordion-icon {
            transition: transform 0.3s ease;
        }

        .accordion-header.open .accordion-icon {
            transform: rotate(180deg);
        }
    </style>
</head>
<body class="p-6 bg-gray-100 dark:bg-gray-800 dark:text-white min-h-screen">
    <form id="tokenForm" class="bg-white dark:bg-gray-700 shadow-md rounded px-8 pt-6 pb-8 mb-4">
        <div class="mb-6">
            <label for="token" class="block text-gray-700 text-sm font-bold mb-2">GitHub Token:</label>
            <input type="text" id="token" name="token" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" required>
        </div>
        <div class="flex items-center justify-between">
            <button type="submit" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline">Save Token</button>
        </div>
    </form>
    <div class="w-full flex flex-col gap-2">
        <div class="bg-white dark:bg-gray-700 shadow-md rounded-lg overflow-hidden">
            <table class="min-w-full table-auto border-collapse">
                <thead>
                    <tr class="bg-gray-200 text-gray-600 uppercase text-sm leading-normal">
                        <th class="py-3 px-6 text-left">Stored Token</th>
                        <th class="py-3 px-6 text-left">GitHub Username</th>
                        <th class="py-3 px-6 text-left">Action</th>
                    </tr>
                </thead>
                <tbody id="tokenTableBody" class="text-gray-700 text-sm font-light">
                    <!-- Tokens will be dynamically added here -->
                </tbody>
            </table>
        </div>
        <div class="flex justify-between items-center mt-4">
            <button id="prevPage" class="bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded-l">Previous</button>
            <span id="pageNumber" class="text-gray-700 font-bold"></span>
            <button id="nextPage" class="bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded-r">Next</button>
        </div>
        <div class="flex gap-4 mt-4">
            <a href="index.html" class="max-w-max bg-gray-300 dark:bg-gray-700 hover:bg-gray-400 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 font-bold py-2 px-4 rounded">Back to Main</a>
            <button id="darkModeToggle" class="max-w-max bg-gray-300 dark:bg-gray-700 hover:bg-gray-400 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 font-bold py-2 px-4 rounded">Toggle Theme</button>
        </div>
    </div>
</body>
</html>